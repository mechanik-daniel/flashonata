{
    "id": "Patient.identifier:il-id.value",
    "path": "Patient.identifier.value",
    "short": "An Israeli ID number",
    "definition": "The portion of the identifier typically relevant to the user and which is unique within the context of the system.",
    "comment": "If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe.",
    "min": 1,
    "max": "1",
    "base": {
        "path": "Identifier.value",
        "min": 0,
        "max": "1"
    },
    "type": [
        {
            "code": "string"
        }
    ],
    "example": [
        {
            "label": "Valid Example",
            "valueString": "000000018"
        }
    ],
    "constraint": [
        {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() > id.count())",
            "xpath": "@value|f:*|h:div",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
        },
        {
            "key": "il-id-chk",
            "severity": "error",
            "human": "Israeli ID must be 9-digits with a correct check-digit at the end.",
            "expression": "matches('[0-9]{9}$') and\r\nsubstring(8,1).toInteger()=\r\n(10-((substring(0,1).toInteger() +\r\nsubstring(1,1).toInteger()*2 mod 10 +\r\nsubstring(1,1).toInteger()*2 div 10 +\r\nsubstring(2,1).toInteger() +\r\nsubstring(3,1).toInteger()*2 mod 10 +\r\nsubstring(3,1).toInteger()*2 div 10 +\r\nsubstring(4,1).toInteger() +\r\nsubstring(5,1).toInteger()*2 mod 10 +\r\nsubstring(5,1).toInteger()*2 div 10 +\r\nsubstring(6,1).toInteger() +\r\nsubstring(7,1).toInteger()*2 mod 10 +\r\nsubstring(7,1).toInteger()*2 div 10) mod 10)) mod 10",
            "source": "http://fhir.health.gov.il/StructureDefinition/il-core-patient"
        }
    ],
    "isModifier": false,
    "isSummary": true,
    "mapping": [
        {
            "identity": "v2",
            "map": "CX.1 / EI.1"
        },
        {
            "identity": "rim",
            "map": "II.extension or II.root if system indicates OID or GUID (Or Role.id.extension or root)"
        },
        {
            "identity": "servd",
            "map": "./Value"
        }
    ],
    "mustSupport": true,
    "__fromDefinition": "http://fhir.health.gov.il/StructureDefinition/il-core-patient"
}